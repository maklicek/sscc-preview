<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Projekty a záměry — SSCC</title>

  <!-- ZÁKLADNÍ STYLY + PŘEPISY -->
  <link rel="stylesheet" href="assets/style-v4.css?v=9">
  <link rel="stylesheet" href="assets/overrides.css?v=3"><!-- důležité -->
</head>
<body data-page="projekty" class="page-projects">

  <!-- HLAVIČKA přes include -->
  <div data-include="assets/partials/header.html"></div>

  <main class="container projects">
    
 <!-- LEVÝ ROZCESTNÍK -->
<nav id="project-toc" aria-label="Přepínač projektů">
  <a href="#proj-dac"     class="toc-link is-active">DAC → zelený NH₃</a>
  <a href="#proj-doupov"  class="toc-link">Doupov — geotermální centrum</a>
  <a href="#proj-orbital" class="toc-link">Orbitální farma → přenos</a>
</nav>

<!-- PRAVÉ PANELY -->
<section id="project-panels" class="panels">

  <article id="proj-dac" class="project-panel">
    <header class="page-head">
      <h1>DAC → Zelený amoniak</h1>
      <p class="lead">Pilotní linky zachytávání CO₂ a syntézy amoniaku (NH₃) pro obce a lokální využití.</p>
    </header>
    <figure>
      <img src="assets/img/projects/dac-nh3-concept.jpg" alt="DAC NH3 pilot" width="960" height="540" loading="lazy">
      <figcaption>Schéma uzlu DAC → NH₃.</figcaption>
    </figure>
  </article>

  <article id="proj-doupov" class="project-panel" hidden>
    <header class="page-head">
      <h1>Doupov — Geotermální centrum</h1>
      <p class="lead">Vulkanické území vhodné pro hlubinné vrty a geotermální integraci.</p>
    </header>
    <figure>
      <img src="assets/img/projects/doupov.jpg" alt="Doupovské území" width="960" height="540" loading="lazy">
      <figcaption>Potenciál geotermálního výzkumu a akumulace energie.</figcaption>
    </figure>
  </article>

  <article id="proj-orbital" class="project-panel" hidden>
    <header class="page-head">
      <h1>Orbitální farma → Bezpečný přenos</h1>
      <p class="lead">Koncept bezdrátového přenosu energie mikrovlnným svazkem a jeho pozemní rámec.</p>
    </header>
    <figure>
      <img src="assets/img/projects/orbitalni-farma.jpg" alt="Orbitální farma" width="960" height="540" loading="lazy">
      <figcaption>Obezřetně, s důrazem na bezpečnost a regulaci.</figcaption>
    </figure>
  </article>

</section>


</section>
  <!-- PATIČKA přes include -->
  <div data-include="assets/partials/footer.html"></div>

  <!-- SCRIPTS (DEFER!) -->
  <script src="assets/include.js" defer></script>
 <script src="assets/toc-switch.js?v=3" defer></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
  const toc    = document.getElementById('project-toc');           // kontejner s odkazy vlevo
  const links  = toc ? [...toc.querySelectorAll('a[data-target]')] : [];
  const panels = [...document.querySelectorAll('#project-panels .project-panel')];

<script>
(function () {
  // ——— najdi kontejner levého TOC – bereme více možností
  const nav =
    document.querySelector('#project-toc, .project-toc, .toc-nav, .toc, [data-toc]');

  if (!nav) {
    console.warn('[TOC nenalezen] Přidej id="project-toc" na kontejner levého sloupce.');
    return;
  }

  const links  = Array.from(nav.querySelectorAll('a[data-target], a[href^="#"]'));
  const panels = Array.from(document.querySelectorAll('.project-panel'));

  function idFromLink(a) {
    if (a.dataset && a.dataset.target) return a.dataset.target;
    return (a.hash || '').replace(/^#/, '');
  }

  function show(id) {
    if (!id) return;

    // aktivuj odkaz
    links.forEach(a => a.classList.toggle('is-active', idFromLink(a) === id));
    // přepni panely
    let found = false;
    panels.forEach(p => {
      const on = p.id === id;
      p.hidden = !on;          // používáme HTML hidden
      p.classList.toggle('is-visible', on); // a zároveň classu, kdyby css řešila zobrazení
      if (on) found = true;
    });
    if (found) history.replaceState(null, '', '#' + id);
  }

  // delegace kliků v TOC
  nav.addEventListener('click', (e) => {
    const a = e.target.closest('a[data-target], a[href^="#"]');
    if (!a) return;
    e.preventDefault();
    show(idFromLink(a));
  });

  // start: hash z URL, jinak 1. odkaz
  const start = (location.hash || '').slice(1) || (links[0] && idFromLink(links[0]));
  if (start) show(start);
})();
<script src="assets/toc-switch.js" defer></script>

</body>
</html>
