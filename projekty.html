<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Projekty | SSCC — SolarSpace Carbon Cycle</title>
  <link rel="stylesheet" href="assets/style-v4.css?v=10">
  <link rel="stylesheet" href="assets/projects.css?v=3">
</head>
<body data-page="projekty" class="page-projects">
  <a class="skip-link" href="#main">Přeskočit na obsah</a>

  <header class="nav">
    <div class="container flex items-center justify-between">
      <a class="brand" href="index.html">SolarSpace Carbon Cycle</a>
      <nav class="main-nav" aria-label="Hlavní navigace">
        <a href="sscc.html">SSCC</a>
        <a href="projekty.html">Projekty</a>
        <a href="spoluprace.html">Spolupráce</a>
        <a href="edukace.html">Edukace</a>
        <a href="konsorcium.html">Konsorcium</a>
        <a href="napady.html">Nápady</a>
      </nav>
    </div>
  </header>

  <!-- SEM vlož svůj projektový obsah (pjs-layout, pjs-nav, project-card sekce) -->
  <!-- (přesně ten blok, co jsi posílal) -->

  <footer class="site-footer">
    <small>© <span id="year"></span> SSCC — SolarSpace Carbon Cycle</small>
  </footer>

 <script>
  // Aktivní položka v horním menu podle skutečné URL
  (function(){
    const navLinks = Array.from(document.querySelectorAll('.main-nav a'));
    // 1) vyčistit staré stavy
    navLinks.forEach(a => a.removeAttribute('aria-current'));

    // 2) zjistit aktuální soubor (funguje i na GitHub Pages & podsložkách)
    let file = location.pathname.split('/').pop() || 'index.html';
    if (file === '' || file === '/') file = 'index.html';

    // 3) najít link – nejdřív přes přesnou shodu, pak přes „stem“ bez .html
    let active =
      navLinks.find(a => a.getAttribute('href') === file) ||
      navLinks.find(a => (a.pathname.split('/').pop() || 'index.html') === file) ||
      (function(){
        const stem = file.replace(/\.html?$/,'');
        return navLinks.find(a => a.getAttribute('href')?.replace(/\.html?$/,'') === stem);
      })();

    if (active) active.setAttribute('aria-current','page');
  })();
</script>
<script>
(function(){
  const MAP = {
    index: 'index.html',
    sscc: 'sscc.html',
    projekty: 'projekty.html',
    spoluprace: 'spoluprace.html',
    edukace: 'edukace.html',
    konsorcium: 'konsorcium.html',
    napady: 'napady.html'
  };

  const nav = document.querySelector('.main-nav');
  if (!nav) return;
  const links = Array.from(nav.querySelectorAll('a'));

  // 1) Normalizace href (když by byly #sscc apod.)
  links.forEach(a=>{
    let href = a.getAttribute('href') || '';
    // vyhoď případné leading "./" nebo "#"
    href = href.replace(/^\.?\/*#?/, '');
    const key = href.replace(/\.html?(\?.*)?(\#.*)?$/,'').toLowerCase();
    if (MAP[key]) a.setAttribute('href', MAP[key]);
  });

  // 2) Přebití kliknutí – tvrdý přechod na .html
  links.forEach(a=>{
    a.addEventListener('click', function(ev){
      const url = a.getAttribute('href');
      if (!url) return;
      ev.stopPropagation();
      // nepřerušuj, jen zajisti přechod (když někdo udělal preventDefault)
      setTimeout(()=>{ window.location.href = url; }, 0);
    }, {capture:true});
  });

  // 3) Aktivní položka podle URL
  links.forEach(a=>a.removeAttribute('aria-current'));
  let file = location.pathname.split('/').pop() || 'index.html';
  if (file === '' || file === '/') file = 'index.html';
  const active =
    links.find(a => (a.getAttribute('href')||'').endsWith(file)) ||
    links.find(a => (a.pathname.split('/').pop()||'') === file);
  if (active) active.setAttribute('aria-current','page');
})();
</script>

</body>
</html>
