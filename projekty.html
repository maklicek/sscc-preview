<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Projekty a záměry — SSCC</title>

  <!-- ZÁKLADNÍ STYLY + PŘEPISY -->
  <link rel="stylesheet" href="assets/style-v4.css?v=9">
  <link rel="stylesheet" href="assets/overrides.css?v=3"><!-- důležité -->
</head>
<body data-page="projekty" class="page-projects">

  <!-- HLAVIČKA přes include -->
  <div data-include="assets/partials/header.html"></div>

  <main class="container projects">
    
 <!-- LEVÝ ROZCESTNÍK -->
<nav class="toc-nav" id="project-toc">
  <a href="#proj-dac"     class="toc-link is-active" data-target="proj-dac">DAC → zelený NH₃</a>
  <a href="#proj-doupov"  class="toc-link"           data-target="proj-doupov">Doupov — geotermální centrum</a>
  <a href="#proj-orbital" class="toc-link"           data-target="proj-orbital">Orbitální farma → přenos</a>
</nav>

<!-- PRAVÉ PANELY -->
<section class="panels" id="project-panels">
  <article id="proj-dac" class="project-panel is-visible">
    <header class="page-head">
      <h1>DAC → Zelený amoniak</h1>
      <p class="lead">Pilotní linky zachytávání CO₂ a syntézy amoniaku (NH₃) pro obce a lokální využití.</p>
    </header>
    <figure>
      <img src="assets/img/projects/dac-nh3-concept.jpg" alt="DAC NH3 pilot" width="960" height="540" loading="lazy">
      <figcaption>Schéma uzlu DAC → NH₃.</figcaption>
    </figure>
  </article>

  <article id="proj-doupov" class="project-panel">
    <header class="page-head">
      <h1>Doupov — Geotermální centrum</h1>
      <p class="lead">Vulkanické území vhodné pro hlubinné vrty a geotermální integraci.</p>
    </header>
    <figure>
      <img src="assets/img/projects/doupov.jpg" alt="Doupovské území" width="960" height="540" loading="lazy">
      <figcaption>Potenciál geotermálního výzkumu a akumulace energie.</figcaption>
    </figure>
  </article>

  <article id="proj-orbital" class="project-panel">
    <header class="page-head">
      <h1>Orbitální farma → Bezpečný přenos</h1>
      <p class="lead">Koncept bezdrátového přenosu energie mikrovlnným svazkem a jeho pozemní rámec.</p>
    </header>
    <figure>
      <img src="assets/img/projects/orbitalni-farma.jpg" alt="Orbitální farma" width="960" height="540" loading="lazy">
      <figcaption>Obezřetně, s důrazem na bezpečnost a regulaci.</figcaption>
    </figure>
  </article>
</section>
  <!-- PATIČKA přes include -->
  <div data-include="assets/partials/footer.html"></div>

  <!-- SCRIPTS (DEFER!) -->
  <script src="assets/include.js" defer></script>
 <script src="assets/toc-switch.js?v=3" defer></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
  const toc    = document.getElementById('project-toc');           // kontejner s odkazy vlevo
  const links  = toc ? [...toc.querySelectorAll('a[data-target]')] : [];
  const panels = [...document.querySelectorAll('#project-panels .project-panel')];

  function show(id) {
    // přepni aktivní odkaz
    links.forEach(a => a.classList.toggle('is-active', a.dataset.target === id));
    // schovej/vypiš panely
    panels.forEach(p => p.hidden = (p.id !== id));
    // permalink do adresy
    if (id) history.replaceState(null, '', '#' + id);
  }

  // delegace kliknutí – funguje i když jsou odkazy jinak stylované
  toc?.addEventListener('click', (e) => {
    const a = e.target.closest('a[data-target]');
    if (!a) return;
    e.preventDefault();
    show(a.dataset.target);
  });

  // start: hash z URL nebo první odkaz
  const start = (location.hash || '').slice(1) || (links[0] && links[0].dataset.target);
  if (start) show(start);
});
</script>
<script>
(function () {
  // Najdi navigaci – preferuj #project-toc, jinak první .toc-nav
  const nav =
    document.getElementById('project-toc') ||
    document.querySelector('.toc-nav');

  if (!nav) {
    console.warn('Project TOC nenalezen.');
    return;
  }

  // Odkazy v TOC – bereme a[data-target] i a[href^="#"]
  const links = [...nav.querySelectorAll('a[data-target], a[href^="#"]')];

  // Panely – ber vše s .project-panel (v rámci #project-panels, ale i fallback)
  const panels = [
    ...document.querySelectorAll('#project-panels .project-panel, .project-panel')
  ];

  function idFromLink(a) {
    return a.dataset.target || (a.getAttribute('href') || '').replace(/^.*#/, '');
  }

  function show(id) {
    if (!id) return;

    // Aktivuj správný odkaz
    links.forEach(a => a.classList.toggle('is-active', idFromLink(a) === id));

    // Schovej / ukaž panely
    let found = false;
    panels.forEach(p => {
      const on = p.id === id;
      p.hidden = !on;
      if (on) found = true;
    });

    // Permalink do URL
    if (found) history.replaceState(null, '', '#' + id);
  }

  // Delegace kliknutí v levém TOC
  nav.addEventListener('click', (e) => {
    const a = e.target.closest('a[data-target], a[href^="#"]');
    if (!a) return;
    e.preventDefault();
    show(idFromLink(a));
  });

  // Start: hash z URL, jinak první odkaz
  const start = (location.hash || '').slice(1) || (links[0] && idFromLink(links[0]));
  if (start) show(start);
})();
</script>

</body>
</html>
